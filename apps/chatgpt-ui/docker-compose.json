{
  "services": [
    {
      "name": "chatgpt-ui",
      "image": "wongsaang/chatgpt-ui-client:v2.5.9",
      "isMain": true,
      "internalPort": 80,
      "environment": [
        {
          "key": "SERVER_DOMAIN",
          "value": "http://chatgpt-ui-web-server"
        },
        {
          "key": "DEFAULT_LOCALE",
          "value": "en"
        }
      ],
      "dependsOn": ["chatgpt-ui-web-server"]
    },
    {
      "name": "chatgpt-ui-wsgi-server",
      "image": "wongsaang/chatgpt-ui-wsgi-server:v2.5.2",
      "environment": [
        {
          "key": "APP_DOMAIN",
          "value": "${INTERNAL_IP}:8201"
        },
        {
          "key": "SERVER_WORKERS",
          "value": "3"
        },
        {
          "key": "WORKER_TIMEOUT",
          "value": "180"
        },
        {
          "key": "DB_URL",
          "value": "mysql://tipi:${CHATGPT_UI_DB_PASSWORD}@chatgpt-ui-db:3306/chatgptdb"
        },
        {
          "key": "DJANGO_SUPERUSER_USERNAME",
          "value": "${CHATGPT_UI_SUPERUSER_USERNAME}"
        },
        {
          "key": "DJANGO_SUPERUSER_PASSWORD",
          "value": "${CHATGPT_UI_SUPERUSER_PASSWORD}"
        },
        {
          "key": "DJANGO_SUPERUSER_EMAIL",
          "value": "${CHATGPT_UI_SUPERUSER_EMAIL}"
        },
        {
          "key": "ACCOUNT_EMAIL_VERIFICATION",
          "value": "none"
        }
      ],
      "dependsOn": ["chatgpt-ui-db"]
    },
    {
      "name": "chatgpt-ui-web-server",
      "image": "wongsaang/chatgpt-ui-web-server:v2.5.2",
      "addPorts": [
        {
          "hostPort": 8201,
          "containerPort": 80
        }
      ],
      "environment": [
        {
          "key": "BACKEND_URL",
          "value": "http://chatgpt-ui-wsgi-server:8000"
        }
      ],
      "dependsOn": ["chatgpt-ui-wsgi-server", "chatgpt-ui-db"]
    },
    {
      "name": "chatgpt-ui-db",
      "image": "lscr.io/linuxserver/mariadb:latest",
      "environment": [
        {
          "key": "MYSQL_ROOT_PASSWORD",
          "value": "${CHATGPT_UI_DB_PASSWORD}"
        },
        {
          "key": "MYSQL_DATABASE",
          "value": "chatgptdb"
        },
        {
          "key": "MYSQL_USER",
          "value": "tipi"
        },
        {
          "key": "MYSQL_PASSWORD",
          "value": "${CHATGPT_UI_DB_PASSWORD}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/mysql/config",
          "containerPath": "/config"
        }
      ]
    }
  ],
  "schemaVersion": 2,
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json"
}
