{
  "services": [
    {
      "name": "hoarder",
      "image": "ghcr.io/hoarder-app/hoarder:0.30.0",
      "isMain": true,
      "internalPort": 3000,
      "environment": [
        {
          "key": "MEILI_ADDR",
          "value": "http://hoarder-meilisearch:7700"
        },
        {
          "key": "BROWSER_WEB_URL",
          "value": "http://hoarder-chrome:9222"
        },
        {
          "key": "DATA_DIR",
          "value": "/data"
        },
        {
          "key": "HOARDER_VERSION",
          "value": "0.20.0"
        },
        {
          "key": "OPENAI_API_KEY",
          "value": "${OPENAI_API_KEY}"
        },
        {
          "key": "NEXTAUTH_SECRET",
          "value": "${NEXTAUTH_SECRET}"
        },
        {
          "key": "MEILI_MASTER_KEY",
          "value": "${MEILI_MASTER_KEY}"
        },
        {
          "key": "NEXTAUTH_URL",
          "value": "${APP_PROTOCOL:-http}://${APP_DOMAIN}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/app",
          "containerPath": "/data"
        }
      ]
    },
    {
      "name": "hoarder-chrome",
      "image": "gcr.io/zenika-hub/alpine-chrome:124",
      "command": [
        "--no-sandbox",
        "--disable-gpu",
        "--disable-dev-shm-usage",
        "--remote-debugging-address=0.0.0.0",
        "--remote-debugging-port=9222",
        "--hide-scrollbars"
      ]
    },
    {
      "name": "hoarder-meilisearch",
      "image": "getmeili/meilisearch:v1.31",
      "environment": [
        {
          "key": "MEILI_NO_ANALYTICS",
          "value": "true"
        },
        {
          "key": "MEILI_MASTER_KEY",
          "value": "${MEILI_MASTER_KEY}"
        }
      ],
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/melli_data",
          "containerPath": "/meili_data"
        }
      ]
    }
  ],
  "schemaVersion": 2,
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json"
}
