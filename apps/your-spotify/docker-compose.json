{
  "services": [
    {
      "name": "your-spotify",
      "image": "yooooomi/your_spotify_client:1.17.0",
      "isMain": true,
      "internalPort": 3000,
      "environment": [
        {
          "key": "API_ENDPOINT",
          "value": "http://${INTERNAL_IP}:32500"
        }
      ],
      "dependsOn": ["your-spotify-server"]
    },
    {
      "name": "your-spotify-server",
      "image": "yooooomi/your_spotify_server",
      "addPorts": [
        {
          "hostPort": 32500,
          "containerPort": 8080
        }
      ],
      "environment": [
        {
          "key": "API_ENDPOINT",
          "value": "http://${INTERNAL_IP}:32500"
        },
        {
          "key": "CLIENT_ENDPOINT",
          "value": "http://${INTERNAL_IP}:${APP_PORT}"
        },
        {
          "key": "SPOTIFY_PUBLIC",
          "value": "${SPOTIFY_PUBLIC}"
        },
        {
          "key": "SPOTIFY_SECRET",
          "value": "${SPOTIFY_SECRET}"
        },
        {
          "key": "MONGO_ENDPOINT",
          "value": "mongodb://your-spotify-db:27017/your_spotify"
        },
        {
          "key": "CORS",
          "value": "i-want-a-security-vulnerability-and-want-to-allow-all-origins"
        }
      ],
      "dependsOn": ["your-spotify-db"]
    },
    {
      "name": "your-spotify-db",
      "image": "mongo:4.4.30",
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/db",
          "containerPath": "/data/db"
        }
      ]
    }
  ],
  "schemaVersion": 2,
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json"
}
