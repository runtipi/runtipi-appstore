{
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
  "schemaVersion": 2,
  "services": [
    {
      "name": "2fauth",
      "image": "2fauth/2fauth:6.0.0",
      "internalPort": 8000,
      "isMain": true,
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data",
          "containerPath": "/2fauth"
        }
      ],
      "environment": [
        { "key": "ASSET_URL", "value": "${APP_PROTOCOL:-http}://${APP_DOMAIN}" },
        { "key": "APP_URL", "value": "${APP_PROTOCOL:-http}://${APP_DOMAIN}" },
        { "key": "APP_KEY", "value": "${TWOFAUTH_APP_KEY}" },
        { "key": "PREVIOUS_APP_KEY", "value": "APP_PREVIOUS_KEYS=SomeRandomStringOf32CharsExactly" }
      ]
    }
  ]
}
